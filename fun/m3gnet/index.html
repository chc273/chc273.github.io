<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>M3GNet Web - Materials Property Prediction</title><script src=https://3Dmol.org/build/3Dmol-min.js></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap" rel=stylesheet><style>:root{--font-sans:'Inter', -apple-system, BlinkMacSystemFont, sans-serif;--font-serif:'Source Serif 4', Georgia, serif;--font-mono:'JetBrains Mono', 'Fira Code', monospace;--bg-primary:#fafafa;--bg-secondary:#ffffff;--bg-tertiary:#f1f5f9;--text-primary:#1e293b;--text-secondary:#475569;--text-muted:#94a3b8;--border-color:#e2e8f0;--accent-primary:#1e3a5f;--accent-secondary:#2d6a4f;--accent-highlight:#3b82f6;--success:#059669;--warning:#d97706;--error:#dc2626;--shadow:0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05)}[data-theme=dark]{--bg-primary:#0f172a;--bg-secondary:#1e293b;--bg-tertiary:#334155;--text-primary:#f1f5f9;--text-secondary:#cbd5e1;--text-muted:#64748b;--border-color:#334155;--accent-primary:#60a5fa;--accent-secondary:#34d399;--shadow:0 1px 3px rgba(0,0,0,0.3);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.3)}*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}html{font-size:14px}body{font-family:var(--font-sans);background:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh;transition:background-color .3s,color .3s}.header{background:var(--bg-secondary);border-bottom:1px solid var(--border-color);padding:.75rem 1.5rem;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100}.header-left{display:flex;align-items:center;gap:2rem}.header-title{display:flex;align-items:center;gap:.75rem}.header-title h1{font-family:var(--font-serif);font-size:1.5rem;font-weight:600;color:var(--accent-primary)}.header-title .version{font-size:.75rem;color:var(--text-muted);font-family:var(--font-mono)}.header-actions{display:flex;align-items:center;gap:1rem}.back-link{color:var(--text-secondary);text-decoration:none;font-size:.875rem;display:flex;align-items:center;gap:.25rem}.back-link:hover{color:var(--accent-primary)}.main-tabs{display:flex;gap:.25rem;background:var(--bg-tertiary);padding:.25rem;border-radius:.5rem}.main-tab{background:0 0;border:none;padding:.5rem 1rem;border-radius:.375rem;cursor:pointer;font-family:var(--font-sans);font-size:.875rem;font-weight:500;color:var(--text-secondary);transition:all .2s}.main-tab:hover{color:var(--text-primary)}.main-tab.active{background:var(--bg-secondary);color:var(--accent-primary);box-shadow:var(--shadow)}.theme-toggle{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:9999px;padding:.25rem;cursor:pointer;display:flex;align-items:center;gap:.25rem}.theme-toggle button{background:0 0;border:none;padding:.375rem .5rem;border-radius:9999px;cursor:pointer;font-size:.875rem;transition:all .2s;color:var(--text-primary)}.theme-toggle button.active{background:var(--bg-secondary);box-shadow:var(--shadow)}.main{display:grid;grid-template-columns:280px 1fr 360px;gap:1rem;padding:1rem;max-width:1600px;margin:0 auto;min-height:calc(100vh - 60px)}@media(max-width:1200px){.main{grid-template-columns:1fr}}.panel{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:.5rem;overflow:hidden}.panel-header{padding:.75rem 1rem;border-bottom:1px solid var(--border-color);font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary)}.panel-content{padding:1rem}.input-panel{display:flex;flex-direction:column;gap:1rem}.upload-zone{border:2px dashed var(--border-color);border-radius:.5rem;padding:1.5rem;text-align:center;cursor:pointer;transition:all .2s}.upload-zone:hover,.upload-zone.dragover{border-color:var(--accent-highlight);background:var(--bg-tertiary)}.upload-zone-icon{font-size:2rem;margin-bottom:.5rem}.upload-zone-text{color:var(--text-secondary);font-size:.875rem}.upload-zone-formats{color:var(--text-muted);font-size:.75rem;margin-top:.25rem;font-family:var(--font-mono)}.upload-input{display:none}.examples-section h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted);margin-bottom:.5rem}.examples-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.example-btn{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:.375rem;padding:.5rem;cursor:pointer;text-align:left;transition:all .2s;font-family:var(--font-sans);color:var(--text-primary)}.example-btn:hover{background:var(--bg-primary);border-color:var(--accent-highlight)}.example-btn .name{font-weight:500;font-size:.875rem}.example-btn .formula{font-family:var(--font-mono);font-size:.75rem;color:var(--text-muted)}.structure-info{background:var(--bg-tertiary);border-radius:.375rem;padding:.75rem;font-family:var(--font-mono);font-size:.8rem}.structure-info .formula{font-size:1rem;font-weight:500;margin-bottom:.25rem}.structure-info .details{color:var(--text-muted)}.viewer-panel{display:flex;flex-direction:column}.viewer-container{flex:1;min-height:400px;background:var(--bg-tertiary);border-radius:0 0 .5rem .5rem;position:relative}.viewer-controls{position:absolute;bottom:1rem;left:1rem;display:flex;gap:.5rem;z-index:10;flex-wrap:wrap}.viewer-btn{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:.375rem;padding:.375rem .75rem;font-size:.75rem;cursor:pointer;transition:all .2s;font-family:var(--font-sans);color:var(--text-primary)}.viewer-btn:hover{background:var(--bg-tertiary)}.viewer-btn.active{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary)}.right-panel{display:flex;flex-direction:column;gap:1rem}.calc-tabs{display:flex;gap:0;border-bottom:1px solid var(--border-color)}.calc-tab{flex:1;background:0 0;border:none;padding:.75rem .5rem;cursor:pointer;font-family:var(--font-sans);font-size:.8rem;font-weight:500;color:var(--text-muted);transition:all .2s;border-bottom:2px solid transparent;margin-bottom:-1px}.calc-tab:hover{color:var(--text-secondary)}.calc-tab.active{color:var(--accent-primary);border-bottom-color:var(--accent-primary)}.calc-content{display:none;padding:1rem}.calc-content.active{display:block}.model-grid{display:flex;flex-direction:column;gap:.5rem;max-height:200px;overflow-y:scroll;scrollbar-width:thin}.model-grid::-webkit-scrollbar{width:6px}.model-grid::-webkit-scrollbar-track{background:var(--bg-tertiary);border-radius:3px}.model-grid::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.model-grid::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}.model-header{font-size:.75rem;color:var(--text-muted);margin-bottom:.5rem;font-family:var(--font-mono)}.model-option{display:flex;align-items:flex-start;gap:.5rem;padding:.5rem;border-radius:.375rem;cursor:pointer;transition:all .2s}.model-option:hover:not(.disabled){background:var(--bg-tertiary)}.model-option input[type=radio]{margin-top:.25rem;accent-color:var(--accent-primary)}.model-option .model-name{font-weight:500;font-size:.875rem}.model-option .model-desc{font-size:.75rem;color:var(--text-muted)}.model-option.disabled{opacity:.5;cursor:not-allowed}.model-option.disabled .model-desc{font-style:italic;color:var(--warning)}.form-group{margin-bottom:.75rem}.form-group label{display:block;font-size:.75rem;font-weight:500;color:var(--text-secondary);margin-bottom:.25rem}.form-group input,.form-group select{width:100%;padding:.5rem;border:1px solid var(--border-color);border-radius:.375rem;font-family:var(--font-mono);font-size:.875rem;background:var(--bg-primary);color:var(--text-primary)}.checkbox-label{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.875rem}.checkbox-label input[type=checkbox]{width:auto;accent-color:var(--accent-primary)}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}.action-btn{width:100%;background:var(--accent-primary);color:#fff;border:none;border-radius:.5rem;padding:.875rem;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:var(--font-sans)}.action-btn:hover:not(:disabled){opacity:.9;transform:translateY(-1px)}.action-btn:disabled{opacity:.5;cursor:not-allowed}.action-btn.loading{position:relative;color:transparent}.action-btn.loading::after{content:'';position:absolute;top:50%;left:50%;width:1.25rem;height:1.25rem;margin:-.625rem 0 0 -.625rem;border:2px solid #fff;border-top-color:transparent;border-radius:50%;animation:spin .8s linear infinite}.action-btn.running{background:var(--error)}.action-btn.paused{background:var(--warning)}@keyframes spin{to{transform:rotate(360deg)}}.btn-group{display:flex;gap:.5rem}.btn-group .action-btn{flex:1}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover:not(:disabled){background:var(--bg-primary)}.plot-container{background:var(--bg-tertiary);border-radius:.375rem;padding:.5rem;margin-top:.75rem}.plot-header{font-size:.75rem;font-weight:500;color:var(--text-secondary);margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:center}.plot-legend{font-size:.65rem;display:flex;gap:.75rem}.legend-energy::before{content:'';display:inline-block;width:10px;height:3px;background:var(--accent-primary);margin-right:4px;vertical-align:middle}.legend-lattice::before,.legend-temp::before{content:'';display:inline-block;width:10px;height:3px;background:#e63946;margin-right:4px;vertical-align:middle}.plot-wrapper{position:relative}.plot-canvas{width:100%;height:120px;background:var(--bg-secondary);border-radius:.25rem;cursor:crosshair}.plot-tooltip{position:absolute;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:.25rem;padding:.375rem .5rem;font-family:var(--font-mono);font-size:.7rem;pointer-events:none;z-index:100;box-shadow:var(--shadow);white-space:nowrap}.plot-stats{display:flex;justify-content:space-between;font-family:var(--font-mono);font-size:.7rem;color:var(--text-muted);margin-top:.25rem}.trajectory-player{background:var(--bg-tertiary);border-radius:.375rem;padding:.5rem;margin-top:.5rem}.trajectory-header{display:flex;justify-content:space-between;align-items:center;font-size:.75rem;font-weight:500;color:var(--text-secondary);margin-bottom:.5rem}.trajectory-controls{display:flex;align-items:center;gap:.5rem}.traj-btn{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:.25rem;padding:.25rem .5rem;cursor:pointer;font-size:.875rem;color:var(--text-primary);transition:all .2s}.traj-btn:hover{background:var(--bg-primary);border-color:var(--accent-primary)}.traj-btn.playing{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary)}.traj-slider{flex:1;height:4px;-webkit-appearance:none;appearance:none;background:var(--border-color);border-radius:2px;outline:none}.traj-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;border-radius:50%;background:var(--accent-primary);cursor:pointer}.traj-slider::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:var(--accent-primary);cursor:pointer;border:none}.traj-frame{font-family:var(--font-mono);font-size:.7rem;color:var(--text-muted);min-width:50px;text-align:right}.trajectory-speed{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;font-size:.7rem;color:var(--text-muted)}.trajectory-speed select{padding:.125rem .25rem;font-size:.7rem;border-radius:.25rem;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-primary)}.results-panel{flex:1}.result-item{padding:.75rem;border-bottom:1px solid var(--border-color)}.result-item:last-child{border-bottom:none}.result-label{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted);margin-bottom:.25rem}.result-value{font-family:var(--font-mono);font-size:1.25rem;font-weight:500}.result-unit{font-size:.875rem;color:var(--text-secondary);margin-left:.25rem}.forces-table{width:100%;font-family:var(--font-mono);font-size:.7rem;border-collapse:collapse;margin-top:.5rem}.forces-table th,.forces-table td{padding:.25rem .375rem;text-align:right;border-bottom:1px solid var(--border-color)}.forces-table th{font-weight:500;color:var(--text-muted);text-transform:uppercase;font-size:.6rem}.forces-table td:first-child,.forces-table th:first-child{text-align:left}.stress-matrix{font-family:var(--font-mono);font-size:.75rem;margin-top:.5rem}.stress-row{display:flex;gap:.5rem;justify-content:center}.stress-cell{width:4.5rem;text-align:right}.lattice-params{font-family:var(--font-mono);font-size:.75rem;line-height:1.6;margin-top:.25rem}.status{padding:.75rem;border-radius:.375rem;font-size:.875rem;display:flex;align-items:center;gap:.5rem}.status.loading{background:var(--bg-tertiary);color:var(--text-secondary)}.status.success{background:rgba(5,150,105,.1);color:var(--success)}.status.error{background:rgba(220,38,38,.1);color:var(--error)}.progress-info{font-family:var(--font-mono);font-size:.75rem;color:var(--text-secondary);margin-top:.5rem}.progress-bar{height:4px;background:var(--bg-tertiary);border-radius:2px;margin-top:.5rem;overflow:hidden}.progress-fill{height:100%;background:var(--accent-primary);transition:width .3s ease}.empty-state{text-align:center;padding:2rem;color:var(--text-muted)}.empty-state-icon{font-size:2.5rem;margin-bottom:.5rem;opacity:.5}.hidden{display:none!important}.mt-1{margin-top:.5rem}.mt-2{margin-top:1rem}.mb-1{margin-bottom:.5rem}.text-sm{font-size:.8rem}.text-muted{color:var(--text-muted)}</style><script type=module crossorigin src=/fun/m3gnet/assets/index-B0KHk1Se.js></script></head><body data-theme=light><header class=header><div class=header-left><a href=/fun/ class=back-link>&larr; Back to Fun</a><div class=header-title><h1>M3GNet Web</h1><span class=version>v1.0</span>
<span data-view-count data-post-path=/fun/m3gnet/ style=display:none></span></div><div class=main-tabs><button class="main-tab active" data-tab=crystals>Crystals</button>
<button class=main-tab data-tab=molecules>Molecules</button></div></div><div class=header-actions><div class=theme-toggle><button id=theme-light class=active title="Light mode">&#9728;&#65039;</button>
<button id=theme-dark title="Dark mode">&#127769;</button></div></div></header><main class=main><div class=input-panel><div class=panel><div class=panel-header>Structure Input</div><div class=panel-content><div class=upload-zone id=upload-zone><div class=upload-zone-icon>&#128193;</div><div class=upload-zone-text>Drop CIF or XYZ file here</div><div class=upload-zone-formats>or click to browse</div><input type=file class=upload-input id=file-input accept=.cif,.xyz,.pdb></div><div class="structure-info mt-2 hidden" id=structure-info><div class=formula id=structure-formula>-</div><div class=details id=structure-details>-</div></div></div></div><div class=panel><div class=panel-header>Example Structures</div><div class=panel-content><div id=crystal-examples><div class=examples-grid><button class=example-btn data-example=mo_bcc><div class=name>Mo BCC</div><div class=formula>Mo2</div></button>
<button class=example-btn data-example=si_diamond><div class=name>Si Diamond</div><div class=formula>Si8</div></button>
<button class=example-btn data-example=nacl><div class=name>NaCl</div><div class=formula>Na4Cl4</div></button>
<button class=example-btn data-example=fe_bcc><div class=name>Fe BCC</div><div class=formula>Fe2</div></button></div></div><div id=molecule-examples class=hidden><div class=examples-grid><button class=example-btn data-example=water><div class=name>Water</div><div class=formula>H2O</div></button>
<button class=example-btn data-example=benzene><div class=name>Benzene</div><div class=formula>C6H6</div></button>
<button class=example-btn data-example=methane><div class=name>Methane</div><div class=formula>CH4</div></button>
<button class=example-btn data-example=co2><div class=name>CO2</div><div class=formula>CO2</div></button></div></div></div></div></div><div class="panel viewer-panel"><div class=panel-header>3D Structure</div><div class=viewer-container id=viewer-container><div class=viewer-controls><button class="viewer-btn active" data-style=ball+stick>Ball & Stick</button>
<button class=viewer-btn data-style=stick>Stick</button>
<button class=viewer-btn data-style=sphere>Sphere</button>
<button class=viewer-btn id=btn-unitcell>Unit Cell</button>
<button class=viewer-btn id=btn-labels>Labels</button>
<button class=viewer-btn id=btn-spin>Spin</button></div></div></div><div class=right-panel><div class=panel style=flex:1;display:flex;flex-direction:column><div class=calc-tabs><button class="calc-tab active" data-calc=single>Single Point</button>
<button class=calc-tab data-calc=relax>Relaxation</button>
<button class=calc-tab data-calc=md>MD</button></div><div class="calc-content active" id=calc-single><div class=model-header id=model-header>7 models available</div><div class=model-grid id=model-grid><label class=model-option><input type=radio name=model value=pes checked><div><div class=model-name>PES (Potential Energy Surface)</div><div class=model-desc>Total energy, forces, stresses</div></div></label><label class=model-option><input type=radio name=model value=e_form><div><div class=model-name>Formation Energy</div><div class=model-desc>eV/atom</div></div></label><label class=model-option><input type=radio name=model value=band_gap><div><div class=model-name>Band Gap</div><div class=model-desc>eV</div></div></label><label class=model-option><input type=radio name=model value=is_metal><div><div class=model-name>Metal Classification</div><div class=model-desc>Metal / Non-metal</div></div></label><label class=model-option><input type=radio name=model value=dielectric><div><div class=model-name>Dielectric Constant</div><div class=model-desc>Refractive index</div></div></label><label class=model-option><input type=radio name=model value=bulk_mod><div><div class=model-name>Bulk Modulus</div><div class=model-desc>log(GPa)</div></div></label><label class=model-option><input type=radio name=model value=shear_mod><div><div class=model-name>Shear Modulus</div><div class=model-desc>log(GPa)</div></div></label></div><button class="action-btn mt-2" id=calculate-btn disabled>Calculate</button></div><div class=calc-content id=calc-relax><div class=form-row><div class=form-group><label>Optimizer</label>
<select id=relax-optimizer><option value=FIRE selected>FIRE</option><option value=LBFGS>LBFGS</option></select></div><div class=form-group><label>Max Steps</label>
<input type=number id=relax-maxsteps value=500 min=1 max=1000></div></div><div class=form-group><label>Force Convergence (eV/A)</label>
<input type=number id=relax-fmax value=0.05 step=0.01 min=0.001></div><div class=form-group><label class=checkbox-label><input type=checkbox id=relax-cell checked>
<span>Relax Cell (variable volume)</span></label></div><div class="btn-group mt-2"><button class=action-btn id=relax-btn disabled>Start Relaxation</button>
<button class="action-btn btn-secondary hidden" id=relax-stop-btn>Stop</button></div><div class="plot-container hidden" id=relax-plot><div class=plot-header>Energy vs Step <span class=plot-legend><span class=legend-energy>Energy</span> <span class=legend-lattice>a</span></span></div><div class=plot-wrapper><canvas class=plot-canvas id=relax-canvas></canvas><div class="plot-tooltip hidden" id=relax-tooltip></div></div><div class=plot-stats><span id=relax-step>Step: 0</span>
<span id=relax-fmax-val>Fmax: -</span></div></div><div class="trajectory-player hidden" id=relax-trajectory><div class=trajectory-header><span>Trajectory</span>
<button class=traj-btn id=traj-download title="Download CIF">&#128190;</button></div><div class=trajectory-controls><button class=traj-btn id=traj-play>&#9658;</button>
<input type=range class=traj-slider id=traj-slider min=0 max=0 value=0>
<span class=traj-frame id=traj-frame>0 / 0</span></div><div class=trajectory-speed><label>Speed:</label>
<select id=traj-speed><option value=200>Slow</option><option value=100 selected>Normal</option><option value=50>Fast</option><option value=20>Very Fast</option></select></div></div><div class="progress-info hidden" id=relax-progress></div></div><div class=calc-content id=calc-md><div class=form-row><div class=form-group><label>Ensemble</label>
<select id=md-ensemble><option value=NVT selected>NVT (Langevin)</option><option value=NVE>NVE (Microcanonical)</option></select></div><div class=form-group><label>Temperature (K)</label>
<input type=number id=md-temperature value=300 min=1 max=5000></div></div><div class=form-row><div class=form-group><label>Time Step (fs)</label>
<input type=number id=md-timestep value=1.0 step=0.1 min=0.1 max=5.0></div><div class=form-group><label>Max Steps</label>
<input type=number id=md-maxsteps value=1000 min=1 max=50000></div></div><div class="btn-group mt-2"><button class=action-btn id=md-btn disabled>Start MD</button>
<button class="action-btn btn-secondary hidden" id=md-pause-btn>Pause</button>
<button class="action-btn btn-secondary hidden" id=md-stop-btn>Stop</button></div><div class="plot-container hidden" id=md-plot><div class=plot-header>MD Trajectory <span class=plot-legend><span class=legend-energy>Total E</span> <span class=legend-temp>Temp</span></span></div><div class=plot-wrapper><canvas class=plot-canvas id=md-canvas></canvas><div class="plot-tooltip hidden" id=md-tooltip></div></div><div class=plot-stats><span id=md-step>Step: 0</span>
<span id=md-temp>T: - K</span>
<span id=md-time>t: 0 fs</span></div></div><div class="trajectory-player hidden" id=md-trajectory><div class=trajectory-header><span>MD Trajectory</span>
<button class=traj-btn id=md-traj-download title="Download CIF">&#128190;</button></div><div class=trajectory-controls><button class=traj-btn id=md-traj-play>&#9658;</button>
<input type=range class=traj-slider id=md-traj-slider min=0 max=0 value=0>
<span class=traj-frame id=md-traj-frame>0 / 0</span></div><div class=trajectory-speed><label>Speed:</label>
<select id=md-traj-speed><option value=200>Slow</option><option value=100 selected>Normal</option><option value=50>Fast</option><option value=20>Very Fast</option></select></div></div></div><div class=panel-content style="flex:1;overflow-y:auto;border-top:1px solid var(--border-color)"><div id=results-content><div class=empty-state><div class=empty-state-icon>&#128202;</div><div>Load a structure and run calculation</div></div></div></div></div><div id=model-status class="status loading"><span class=spinner style="width:14px;height:14px;border:2px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:50%;animation:spin .8s linear infinite"></span>
Loading model...</div></div></main><script src=https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.17.0/dist/tf.min.js></script><script src=/js/view-count.js defer></script></body></html>